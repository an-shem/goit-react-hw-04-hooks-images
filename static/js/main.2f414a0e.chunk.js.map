{"version":3,"sources":["services/galleryApi.js","components/Searchbar/Searchbar.styled.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.styled.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.styled.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.styled.jsx","components/Button/Button.jsx","components/Modal/Modal.styled.jsx","components/Modal/Modal.jsx","App.styled.jsx","App.jsx","index.js"],"names":["MY_KEY","BASE_URL","galleryApi","fetchGalleryWithQuery","searchQuery","numberPage","axios","get","then","response","data","hits","SearchbarHeader","styled","header","SearchForm","form","SearchFormButton","button","SearchFormButtonLabel","span","SearchFormInput","input","Searchbar","onSubmit","e","preventDefault","inputValue","target","elements","SearchInput","value","type","name","autoComplete","autoFocus","placeholder","ImagesListItem","li","Image","img","ImageGalleryItem","handleClick","alt","image","webformatURL","largeImageURL","src","className","onClick","ImagesList","ul","ImageGallery","imagesList","map","id","GalleryButton","Button","Overlay","div","ImageModal","modalRoot","document","querySelector","Modal","url","closeModal","useEffect","handleKeyDown","window","addEventListener","removeEventListener","createPortal","WrapperLoader","MyApp","App","useState","setImagesList","setSearchQuery","setNumberPage","showModal","setShowModal","imgUrl","setImgUrl","requestStatus","setRequestStatus","length","toast","error","images","prev","handleScroll","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","currentTarget","code","trim","color","height","width","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.2f414a0e.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst MY_KEY = '20832523-2bf34066ca306390d6c2fd3bb';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\nexport const PER_PAGE = 12;\r\n\r\nconst fetchGalleryWithQuery = (searchQuery, numberPage = 1) => {\r\n  return axios\r\n    .get(\r\n      `${BASE_URL}?q=${searchQuery}&page=${numberPage}&key=${MY_KEY}&image_type=photo&orientation=horizontal&per_page=${PER_PAGE}`,\r\n    )\r\n    .then(response => response.data.hits);\r\n};\r\n\r\nconst galleryApi = {\r\n  fetchGalleryWithQuery,\r\n};\r\n\r\nexport default galleryApi;\r\n","import styled from '@emotion/styled';\r\n\r\nexport const SearchbarHeader = styled.header`\r\n  top: 0;\r\n  left: 0;\r\n  position: sticky;\r\n  z-index: 1100;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 64px;\r\n  padding-right: 24px;\r\n  padding-left: 24px;\r\n  padding-top: 12px;\r\n  padding-bottom: 12px;\r\n  color: #fff;\r\n  background-color: #3f51b5;\r\n  box-shadow: 0px 2px 4px -1px rgba(0, 0, 0, 0.2),\r\n    0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12);\r\n`;\r\n\r\nexport const SearchForm = styled.form`\r\n  display: flex;\r\n  align-items: center;\r\n  width: 100%;\r\n  max-width: 600px;\r\n  background-color: #fff;\r\n  border-radius: 3px;\r\n  overflow: hidden;\r\n`;\r\n\r\nexport const SearchFormButton = styled.button`\r\n  display: inline-block;\r\n  width: 48px;\r\n  height: 48px;\r\n  border: 0;\r\n  background-image: url('https://image.flaticon.com/icons/svg/149/149852.svg');\r\n  background-size: 40%;\r\n  background-repeat: no-repeat;\r\n  background-position: center;\r\n  opacity: 0.6;\r\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  cursor: pointer;\r\n  outline: none;\r\n\r\n  &:hover {\r\n    opacity: 1;\r\n  }\r\n`;\r\n\r\nexport const SearchFormButtonLabel = styled.span`\r\n  position: absolute;\r\n  width: 1px;\r\n  height: 1px;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  clip: rect(0, 0, 0, 0);\r\n  white-space: nowrap;\r\n  clip-path: inset(50%);\r\n  border: 0;\r\n`;\r\n\r\nexport const SearchFormInput = styled.input`\r\n  display: inline-block;\r\n  width: 100%;\r\n  font: inherit;\r\n  font-size: 20px;\r\n  border: none;\r\n  outline: none;\r\n  padding-left: 4px;\r\n  padding-right: 4px;\r\n\r\n  &::placeholder {\r\n    font: inherit;\r\n    font-size: 18px;\r\n  }\r\n`;\r\n","import PropTypes from 'prop-types';\r\nimport {\r\n  SearchbarHeader,\r\n  SearchForm,\r\n  SearchFormButton,\r\n  SearchFormButtonLabel,\r\n  SearchFormInput,\r\n} from './Searchbar.styled';\r\n\r\nexport function Searchbar({ onSubmit }) {\r\n  const inputSubmit = e => {\r\n    e.preventDefault();\r\n    const inputValue = e.target.elements.SearchInput.value;\r\n    onSubmit(inputValue);\r\n  };\r\n\r\n  return (\r\n    <SearchbarHeader>\r\n      <SearchForm onSubmit={inputSubmit}>\r\n        <SearchFormButton type=\"submit\">\r\n          <SearchFormButtonLabel>Search</SearchFormButtonLabel>\r\n        </SearchFormButton>\r\n\r\n        <SearchFormInput\r\n          name=\"SearchInput\"\r\n          type=\"text\"\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </SearchForm>\r\n    </SearchbarHeader>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import styled from '@emotion/styled';\r\n\r\nexport const ImagesListItem = styled.li`\r\n  border-radius: 2px;\r\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2),\r\n    0px 1px 1px 0px rgba(0, 0, 0, 0.14), 0px 2px 1px -1px rgba(0, 0, 0, 0.12);\r\n`;\r\nexport const Image = styled.img`\r\n  width: 100%;\r\n  height: 260px;\r\n  object-fit: cover;\r\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n\r\n  &:hover {\r\n    transform: scale(1.03);\r\n    cursor: zoom-in;\r\n  }\r\n`;\r\n","import PropTypes from 'prop-types';\r\n\r\nimport { ImagesListItem, Image } from './ImageGalleryItem.styled';\r\n\r\nexport function ImageGalleryItem({\r\n  handleClick,\r\n  alt,\r\n  image: { webformatURL, largeImageURL },\r\n}) {\r\n  return (\r\n    <ImagesListItem>\r\n      <Image\r\n        src={webformatURL}\r\n        alt={alt}\r\n        className=\"ImageGalleryItem-image\"\r\n        onClick={e => handleClick(e, largeImageURL)}\r\n      />\r\n    </ImagesListItem>\r\n  );\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  image: PropTypes.shape({\r\n    webformatURL: PropTypes.string,\r\n    largeImageURL: PropTypes.string,\r\n  }).isRequired,\r\n  alt: PropTypes.string.isRequired,\r\n  handleClick: PropTypes.func.isRequired,\r\n};\r\n","import styled from '@emotion/styled';\r\n\r\nexport const ImagesList = styled.ul`\r\n  display: grid;\r\n  max-width: calc(100vw - 48px);\r\n  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));\r\n  grid-gap: 16px;\r\n  margin-top: 0;\r\n  margin-bottom: 0;\r\n  padding: 0;\r\n  list-style: none;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n`;\r\n","import PropTypes from 'prop-types';\r\nimport { ImageGalleryItem } from '../ImageGalleryItem/ImageGalleryItem';\r\nimport { ImagesList } from './ImageGallery.styled';\r\n\r\nexport function ImageGallery({ imagesList, alt, handleClick }) {\r\n  return (\r\n    <ImagesList>\r\n      {imagesList.map(image => (\r\n        <ImageGalleryItem\r\n          key={image.id}\r\n          image={image}\r\n          alt={alt}\r\n          handleClick={handleClick}\r\n        />\r\n      ))}\r\n    </ImagesList>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  imagesList: PropTypes.array.isRequired,\r\n};\r\n","import styled from '@emotion/styled';\r\n\r\nexport const GalleryButton = styled.button`\r\n  margin: 0 auto;\r\n  padding: 8px 16px;\r\n  border-radius: 2px;\r\n  background-color: #3f51b5;\r\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\r\n  text-align: center;\r\n  display: inline-block;\r\n  color: #fff;\r\n  border: 0;\r\n  text-decoration: none;\r\n  cursor: pointer;\r\n  font-family: inherit;\r\n  font-size: 18px;\r\n  line-height: 24px;\r\n  font-style: normal;\r\n  font-weight: 500;\r\n  min-width: 180px;\r\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2),\r\n    0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);\r\n\r\n  &:hover,\r\n  &:focus {\r\n    background-color: #303f9f;\r\n  }\r\n`;\r\n","import { GalleryButton } from './Button.styled';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport function Button({ onClick }) {\r\n  return (\r\n    <GalleryButton type=\"button\" onClick={onClick}>\r\n      Load more\r\n    </GalleryButton>\r\n  );\r\n}\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n","import styled from '@emotion/styled';\r\n\r\nexport const Overlay = styled.div`\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(0, 0, 0, 0.8);\r\n  z-index: 1200;\r\n`;\r\n\r\nexport const ImageModal = styled.div`\r\n  max-width: calc(100vw - 36%);\r\n  max-height: calc(100vh - 2%);\r\n  /* max-width: calc(100vw - 48px);\r\n  max-height: calc(100vh - 24px); */\r\n`;\r\n","import PropTypes from 'prop-types';\r\n\r\nimport { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\n\r\nimport { Overlay, ImageModal } from './Modal.styled';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ alt, url, closeModal }) {\r\n  useEffect(() => {\r\n    const handleKeyDown = e => {\r\n      closeModal(e);\r\n    };\r\n\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  }, [closeModal]);\r\n\r\n  return createPortal(\r\n    <Overlay onClick={closeModal}>\r\n      <ImageModal>\r\n        <img src={url} alt={alt} />\r\n      </ImageModal>\r\n    </Overlay>,\r\n    modalRoot,\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  alt: PropTypes.string.isRequired,\r\n  url: PropTypes.string.isRequired,\r\n  closeModal: PropTypes.func.isRequired,\r\n};\r\n","import styled from '@emotion/styled';\r\n\r\nexport const WrapperLoader = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\nexport const MyApp = styled.div`\r\n  display: grid;\r\n  grid-template-columns: 1fr;\r\n  grid-gap: 16px;\r\n  padding-bottom: 24px;\r\n`;\r\n","import Loader from 'react-loader-spinner';\r\nimport toast, { Toaster } from 'react-hot-toast';\r\n\r\nimport { useState, useEffect } from 'react';\r\nimport galleryApi, { PER_PAGE } from './services/galleryApi';\r\n\r\nimport { Searchbar } from './components/Searchbar/Searchbar';\r\nimport { ImageGallery } from './components/ImageGallery/ImageGallery';\r\nimport { Button } from './components/Button/Button';\r\nimport Modal from './components/Modal/Modal';\r\n\r\nimport { WrapperLoader, MyApp } from './App.styled';\r\n\r\nexport default function App() {\r\n  const [imagesList, setImagesList] = useState([]);\r\n  const [searchQuery, setSearchQuery] = useState(null);\r\n  const [numberPage, setNumberPage] = useState(1);\r\n  const [showModal, setShowModal] = useState(null);\r\n  const [imgUrl, setImgUrl] = useState('');\r\n  const [requestStatus, setRequestStatus] = useState('idle');\r\n\r\n  useEffect(() => {\r\n    if (!searchQuery) return;\r\n    setRequestStatus('pending');\r\n\r\n    galleryApi.fetchGalleryWithQuery(searchQuery, numberPage).then(data => {\r\n      if (data.length === 0 && numberPage === 1) {\r\n        toast.error('Nothing found');\r\n        setRequestStatus('idle');\r\n        return;\r\n      }\r\n\r\n      if (data.length === 0 && numberPage > 1) {\r\n        toast.error('End of image list');\r\n        setRequestStatus('idle');\r\n        return;\r\n      }\r\n\r\n      const images = data.map(({ id, webformatURL, largeImageURL }) => ({\r\n        id,\r\n        webformatURL,\r\n        largeImageURL,\r\n      }));\r\n\r\n      setImagesList(prev => [...prev, ...images]);\r\n      setRequestStatus('resolved');\r\n    });\r\n  }, [numberPage, searchQuery]);\r\n\r\n  useEffect(() => {\r\n    if (imagesList.length <= PER_PAGE) return;\r\n    handleScroll();\r\n  }, [imagesList]);\r\n\r\n  const handleSubmit = searchQuery => {\r\n    if (searchQuery.trim() !== '') {\r\n      setNumberPage(1);\r\n      setImagesList([]);\r\n      setSearchQuery(searchQuery);\r\n      return;\r\n    }\r\n    toast.error('Invalid request');\r\n  };\r\n\r\n  const handleScroll = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  const toggleModal = e => {\r\n    if (e.target === e.currentTarget || e.code === 'Escape') {\r\n      setShowModal(prev => !prev);\r\n    }\r\n  };\r\n\r\n  const handleClickImages = (e, url) => {\r\n    setImgUrl(url);\r\n    toggleModal(e);\r\n  };\r\n\r\n  return (\r\n    <MyApp>\r\n      <Searchbar onSubmit={handleSubmit} />\r\n      {imagesList.length > 0 && (\r\n        <ImageGallery\r\n          imagesList={imagesList}\r\n          alt={searchQuery}\r\n          handleClick={handleClickImages}\r\n        />\r\n      )}\r\n      {requestStatus === 'pending' && (\r\n        <WrapperLoader>\r\n          <Loader type=\"ThreeDots\" color=\"#00BFFF\" height={100} width={100} />\r\n        </WrapperLoader>\r\n      )}\r\n      {requestStatus === 'resolved' && (\r\n        <Button onClick={() => setNumberPage(prev => prev + 1)} />\r\n      )}\r\n      {showModal && (\r\n        <Modal alt={searchQuery} url={imgUrl} closeModal={toggleModal} />\r\n      )}\r\n      <Toaster />\r\n    </MyApp>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}